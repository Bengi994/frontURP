(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[574],{8024:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/administrar-solicitudes",function(){return __webpack_require__(2337)}])},9086:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return useCatalogs}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7294),_utils_api__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2400);let useCatalogs=()=>{let[catalogs,setCatalogs]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[SalonConferencia,setSalonConferencia]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),getSalonNombre=salonId=>{let salon=SalonConferencia.find(salon=>salon.id===salonId);return salon?salon.attributes.nombre:""},getCatalogs=async()=>{let{data:{data:dataRaw}}=await _utils_api__WEBPACK_IMPORTED_MODULE_1__.h.get("/catologos?populate=*"),catalogsMapping=dataRaw.map(param=>{let{id,attributes}=param;return{...attributes,id}});setCatalogs(catalogsMapping)},removeCatalog=async catalogId=>{await _utils_api__WEBPACK_IMPORTED_MODULE_1__.h.put("/catologos/".concat(catalogId),{data:{disponible:!1,miconf:!1}}),await getCatalogs()},enabledCatalog=async catalogId=>{await _utils_api__WEBPACK_IMPORTED_MODULE_1__.h.put("/catologos/".concat(catalogId),{data:{disponible:!0,miconf:!1}}),await getCatalogs()},myCatalog=async catalogId=>{await _utils_api__WEBPACK_IMPORTED_MODULE_1__.h.put("/catologos/".concat(catalogId),{data:{disponible:!0,miconf:!0}}),await getCatalogs()},getCatalogId=async catalogId=>{let response=await _utils_api__WEBPACK_IMPORTED_MODULE_1__.h.get("/catologos/".concat(catalogId)),catalogData=response.data.data.attributes;return catalogData};return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{getCatalogs()},[]),{catalogs,removeCatalog,enabledCatalog,myCatalog,getCatalogId,getSalonNombre}}},2337:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return administrar_solicitudes}});var jsx_runtime=__webpack_require__(5893),ResponsivePage=__webpack_require__(8776),Button=__webpack_require__(5005),next_router=__webpack_require__(1163),useCatalogs=__webpack_require__(9086),react=__webpack_require__(7294),classnames=__webpack_require__(4184),classnames_default=__webpack_require__.n(classnames),esm=__webpack_require__(5446),useEventCallback=__webpack_require__(8146),Anchor=__webpack_require__(3551),ThemeProvider=__webpack_require__(6792),Fade=__webpack_require__(1068),CloseButton=__webpack_require__(1485),divWithClassName=__webpack_require__(9602),createWithBsPrefix=__webpack_require__(6611);let DivStyledAsH4=(0,divWithClassName.Z)("h4");DivStyledAsH4.displayName="DivStyledAsH4";let AlertHeading=(0,createWithBsPrefix.Z)("alert-heading",{Component:DivStyledAsH4}),AlertLink=(0,createWithBsPrefix.Z)("alert-link",{Component:Anchor.Z}),defaultProps={variant:"primary",show:!0,transition:Fade.Z,closeLabel:"Close alert"},Alert=react.forwardRef((uncontrolledProps,ref)=>{let{bsPrefix,show,closeLabel,closeVariant,className,children,variant,onClose,dismissible,transition,...props}=(0,esm.Ch)(uncontrolledProps,{show:"onClose"}),prefix=(0,ThemeProvider.vE)(bsPrefix,"alert"),handleClose=(0,useEventCallback.Z)(e=>{onClose&&onClose(!1,e)}),Transition=!0===transition?Fade.Z:transition,alert=(0,jsx_runtime.jsxs)("div",{role:"alert",...Transition?void 0:props,ref:ref,className:classnames_default()(className,prefix,variant&&`${prefix}-${variant}`,dismissible&&`${prefix}-dismissible`),children:[dismissible&&(0,jsx_runtime.jsx)(CloseButton.Z,{onClick:handleClose,"aria-label":closeLabel,variant:closeVariant}),children]});return Transition?(0,jsx_runtime.jsx)(Transition,{unmountOnExit:!0,...props,ref:void 0,in:show,children:alert}):show?alert:null});Alert.displayName="Alert",Alert.defaultProps=defaultProps;var esm_Alert=Object.assign(Alert,{Link:AlertLink,Heading:AlertHeading});let CatalogModalConfirm=param=>{let{estado,cambiarEstado,catalogo,tipo}=param,{removeCatalog,enabledCatalog}=(0,useCatalogs.$)(),[showAlert,setShowAlert]=(0,react.useState)(!1),[alertMessage,setAlertMessage]=(0,react.useState)(""),handleAction=async()=>{try{tipo?(await enabledCatalog(catalogo.id),setAlertMessage("La solicitud ha sido aprobada.")):(await removeCatalog(catalogo.id),setAlertMessage("La solicitud ha sido rechazada.")),setShowAlert(!0)}catch(error){console.error("Error al procesar la solicitud:",error)}finally{cambiarEstado(!1)}};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[estado&&(0,jsx_runtime.jsx)("div",{className:"overlay",children:(0,jsx_runtime.jsxs)("div",{className:"contenido-modal contenido-modal-confirm",children:[(0,jsx_runtime.jsxs)("h1",{children:["\xbfEst\xe1 seguro que desea ",tipo?"aprobar":"rechazar"," esta solicitud?"]}),(0,jsx_runtime.jsxs)("div",{className:"contenido-modal-confirm-btns",children:[(0,jsx_runtime.jsx)(Button.Z,{className:"me-2",variant:"secondary",onClick:()=>cambiarEstado(!1),children:"Cancelar"}),(0,jsx_runtime.jsx)(Button.Z,{className:"me-2",variant:"success",onClick:handleAction,children:"Aceptar"})]})]})}),showAlert&&(0,jsx_runtime.jsx)(esm_Alert,{variant:tipo?"success":"danger",onClose:()=>setShowAlert(!1),dismissible:!0,style:{position:"absolute"},children:alertMessage})]})},CatalogModal=param=>{var ref,ref1,ref2,ref3;let{estado,cambiarEstado,catalog,setCatalogo}=param,{catalogs,removeCatalog,enabledCatalog}=(0,useCatalogs.$)(),[estadoModal,cambiarEstadoModal]=(0,react.useState)(!1),[tipo,cambiartipo]=(0,react.useState)(!1),fechaFormateada=function(fechaOriginal){let fecha=new Date(fechaOriginal),dia=fecha.getDate(),mes=fecha.getMonth()+1,anio=fecha.getFullYear();return"".concat(dia<10?"0".concat(dia):dia,"/").concat(mes<10?"0".concat(mes):mes,"/").concat(anio)}(Date.parse(null==catalog?void 0:catalog.fecha));return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:estado&&(0,jsx_runtime.jsxs)("div",{className:"overlay",children:[(0,jsx_runtime.jsxs)("div",{className:"contenido-modal",children:[(0,jsx_runtime.jsx)("div",{className:"encabezado-modal",children:(0,jsx_runtime.jsx)("h3",{children:"Solicitud de conferencia"})}),(0,jsx_runtime.jsx)("button",{className:"boton-cerrar",onClick:()=>cambiarEstado(!1),children:(0,jsx_runtime.jsx)("img",{src:"\\close-solid.svg",alt:"close"})}),(0,jsx_runtime.jsxs)("div",{className:"contenido",children:[(0,jsx_runtime.jsxs)("div",{className:"seccion-tema-descripcion",children:[(0,jsx_runtime.jsx)("h5",{children:"Tema de conferencia: "}),(0,jsx_runtime.jsx)("p",{children:catalog.tema_conferencia})]}),(0,jsx_runtime.jsxs)("div",{className:"seccion-tema-descripcion",children:[(0,jsx_runtime.jsx)("h5",{children:"Descripci\xf3n: "}),(0,jsx_runtime.jsx)("p",{children:null===catalog.descripcion?"No establecida":catalog.descripcion})]}),(0,jsx_runtime.jsxs)("div",{className:"seccion",children:[(0,jsx_runtime.jsx)("h5",{children:"Expositor: "}),(0,jsx_runtime.jsx)("p",{children:null===catalog.expositor?"No establecido":catalog.expositor})]}),(0,jsx_runtime.jsxs)("div",{className:"seccion",children:[(0,jsx_runtime.jsx)("h5",{children:"Dirigido a: "}),(0,jsx_runtime.jsx)("p",{children:null===catalog.dirigido?"No establecido":catalog.dirigido})]}),(0,jsx_runtime.jsxs)("div",{className:"seccion",children:[(0,jsx_runtime.jsx)("h5",{children:"Solicitado por: "}),(0,jsx_runtime.jsx)("p",{children:null===catalog.solicitado_por?"No establecido":catalog.solicitado_por})]}),(0,jsx_runtime.jsxs)("div",{className:"seccion",children:[(0,jsx_runtime.jsx)("h5",{children:"Sal\xf3n: "}),(0,jsx_runtime.jsx)("p",{children:(null===(ref=null==catalog?void 0:catalog.salon.data)||void 0===ref?void 0:null===(ref1=ref.attributes)||void 0===ref1?void 0:ref1.nombre)===null?"":null===(ref2=catalog.salon.data)||void 0===ref2?void 0:null===(ref3=ref2.attributes)||void 0===ref3?void 0:ref3.nombre})]}),(0,jsx_runtime.jsxs)("div",{className:"seccion",children:[(0,jsx_runtime.jsx)("h5",{children:"Fecha: "}),(0,jsx_runtime.jsx)("p",{children:null===fechaFormateada?"No establecida":fechaFormateada})]}),(0,jsx_runtime.jsxs)("div",{className:"seccion",children:[(0,jsx_runtime.jsx)("h5",{children:"Hora: "}),(0,jsx_runtime.jsx)("p",{children:null===catalog.hora?"No establecida":catalog.hora.slice(0,5)})]}),(0,jsx_runtime.jsx)("div",{className:"seccion-botones",children:(0,jsx_runtime.jsxs)("div",{className:"botones-modal",children:[(0,jsx_runtime.jsx)(Button.Z,{className:"me-2",variant:"danger",onClick(){cambiartipo(!1),cambiarEstadoModal(!estadoModal)},children:"Rechazar"}),(0,jsx_runtime.jsx)(Button.Z,{variant:"primary",onClick(){cambiartipo(!0),cambiarEstadoModal(!estadoModal)},children:"Aprobar"})]})})]})]}),(0,jsx_runtime.jsx)(CatalogModalConfirm,{estado:estadoModal,cambiarEstado:cambiarEstadoModal,catalogo:catalog,setCatalogo:setCatalogo,tipo:tipo})]})})},Catalogo=()=>{(0,next_router.useRouter)();let{catalogs,removeCatalog,enabledCatalog}=(0,useCatalogs.$)(),[estadoModal,cambiarEstadoModal]=(0,react.useState)(!1),[catalogElement,setCatalogElement]=(0,react.useState)();return(0,jsx_runtime.jsx)(ResponsivePage.Y,{children:(0,jsx_runtime.jsxs)("div",{className:"container mt-3",children:[(0,jsx_runtime.jsx)("div",{className:"d-flex justify-content-between",children:(0,jsx_runtime.jsx)("h1",{className:"mb-2",children:"Mis solicitudes"})}),(0,jsx_runtime.jsx)("hr",{}),(0,jsx_runtime.jsxs)("table",{className:"table",children:[(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("th",{scope:"col",children:"#"}),(0,jsx_runtime.jsx)("th",{scope:"col",children:"Tema"}),(0,jsx_runtime.jsx)("th",{scope:"col",children:"Dirigido a"}),(0,jsx_runtime.jsx)("th",{scope:"col",children:"Sal\xf3n"}),(0,jsx_runtime.jsx)("th",{scope:"col",children:"Solicitado por"}),(0,jsx_runtime.jsx)("th",{scope:"col",children:"Estado de solicitud"}),(0,jsx_runtime.jsx)("th",{scope:"col",children:"Acciones"})]})}),(0,jsx_runtime.jsx)("tbody",{children:catalogs.length>0&&catalogs.map(catalog=>{var ref,ref1,ref2,ref3;return(0,jsx_runtime.jsxs)("tr",{children:[(0,jsx_runtime.jsx)("td",{children:catalog.id}),(0,jsx_runtime.jsx)("td",{children:catalog.tema_conferencia}),(0,jsx_runtime.jsx)("td",{children:catalog.dirigido}),(0,jsx_runtime.jsx)("td",{children:(null===(ref=null==catalog?void 0:catalog.salon.data)||void 0===ref?void 0:null===(ref1=ref.attributes)||void 0===ref1?void 0:ref1.nombre)===null?"":null===(ref2=catalog.salon.data)||void 0===ref2?void 0:null===(ref3=ref2.attributes)||void 0===ref3?void 0:ref3.nombre}),(0,jsx_runtime.jsx)("td",{children:catalog.solicitado_por}),(0,jsx_runtime.jsx)("td",{children:null===catalog.disponible?"En Espera":!1==catalog.disponible?"Rechazado":"Aprobado"}),(0,jsx_runtime.jsx)("td",{children:(0,jsx_runtime.jsx)(Button.Z,{className:"btn-ojo",onClick(){cambiarEstadoModal(!estadoModal),setCatalogElement(catalog)},children:(0,jsx_runtime.jsx)("img",{src:"\\eye-solid.svg",alt:"detalles"})})})]},"catalog-".concat(catalog.id))})})]}),(0,jsx_runtime.jsx)(CatalogModal,{estado:estadoModal,cambiarEstado:cambiarEstadoModal,catalog:catalogElement,setCatalogo:setCatalogElement})]})})};var administrar_solicitudes=Catalogo},2703:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(414);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},5697:function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__(2703)()},414:function(module){"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1485:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5697),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7294),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4184),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5893);let propTypes={"aria-label":prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,onClick:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func,variant:prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(["white"])},CloseButton=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(({className,variant,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{ref:ref,type:"button",className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("btn-close",variant&&`btn-close-${variant}`,className),...props}));CloseButton.displayName="CloseButton",CloseButton.propTypes=propTypes,CloseButton.defaultProps={"aria-label":"Close"},__webpack_exports__.Z=CloseButton},1068:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4184),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7294),react_transition_group_Transition__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4527),_transitionEndListener__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3825),_triggerBrowserReflow__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4509),_TransitionWrapper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2785),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5893);let fadeStyles={[react_transition_group_Transition__WEBPACK_IMPORTED_MODULE_3__.d0]:"show",[react_transition_group_Transition__WEBPACK_IMPORTED_MODULE_3__.cn]:"show"},Fade=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,children,transitionClasses={},...props},ref)=>{let handleEnter=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((node,isAppearing)=>{(0,_triggerBrowserReflow__WEBPACK_IMPORTED_MODULE_4__.Z)(node),null==props.onEnter||props.onEnter(node,isAppearing)},[props]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_TransitionWrapper__WEBPACK_IMPORTED_MODULE_5__.Z,{ref:ref,addEndListener:_transitionEndListener__WEBPACK_IMPORTED_MODULE_6__.Z,...props,onEnter:handleEnter,childRef:children.ref,children:(status,innerProps)=>react__WEBPACK_IMPORTED_MODULE_1__.cloneElement(children,{...innerProps,className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("fade",className,children.props.className,fadeStyles[status],transitionClasses[status])})})});Fade.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Fade.displayName="Fade",__webpack_exports__.Z=Fade},9602:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7294),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4184),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5893);__webpack_exports__.Z=className=>react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((p,ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{...p,ref:ref,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(p.className,className)}))}},function(__webpack_require__){__webpack_require__.O(0,[222,776,774,888,179],function(){return __webpack_require__(__webpack_require__.s=8024)}),_N_E=__webpack_require__.O()}]);