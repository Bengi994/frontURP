(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[606],{8211:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/solicitudes",function(){return __webpack_require__(4253)}])},9086:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return useCatalogs}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7294),_utils_api__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2400);let useCatalogs=()=>{let[catalogs,setCatalogs]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[SalonConferencia,setSalonConferencia]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),getSalonNombre=salonId=>{let salon=SalonConferencia.find(salon=>salon.id===salonId);return salon?salon.attributes.nombre:""},getCatalogs=async()=>{let{data:{data:dataRaw}}=await _utils_api__WEBPACK_IMPORTED_MODULE_1__.h.get("/catologos?populate=*"),catalogsMapping=dataRaw.map(param=>{let{id,attributes}=param;return{...attributes,id}});setCatalogs(catalogsMapping)},removeCatalog=async catalogId=>{await _utils_api__WEBPACK_IMPORTED_MODULE_1__.h.put("/catologos/".concat(catalogId),{data:{disponible:!1,miconf:!1}}),await getCatalogs()},enabledCatalog=async catalogId=>{await _utils_api__WEBPACK_IMPORTED_MODULE_1__.h.put("/catologos/".concat(catalogId),{data:{disponible:!0,miconf:!1}}),await getCatalogs()},myCatalog=async catalogId=>{await _utils_api__WEBPACK_IMPORTED_MODULE_1__.h.put("/catologos/".concat(catalogId),{data:{disponible:!0,miconf:!0}}),await getCatalogs()},getCatalogId=async catalogId=>{let response=await _utils_api__WEBPACK_IMPORTED_MODULE_1__.h.get("/catologos/".concat(catalogId)),catalogData=response.data.data.attributes;return catalogData};return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{getCatalogs()},[]),{catalogs,removeCatalog,enabledCatalog,myCatalog,getCatalogId,getSalonNombre}}},4253:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893),_components_ResponsivePage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8776),react_bootstrap__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5005),next_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1163),_hooks_catalog_useCatalogs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9086);let Catalogo=()=>{let router=(0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)(),{catalogs,removeCatalog,enabledCatalog}=(0,_hooks_catalog_useCatalogs__WEBPACK_IMPORTED_MODULE_3__.$)(),goToCreatePage=()=>router.push("solicitudes/solicitar-conferencia");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ResponsivePage__WEBPACK_IMPORTED_MODULE_1__.Y,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"container mt-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1",{className:"mb-2",children:"Solicitudes enviadas"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.Z,{variant:"success btn",onClick:goToCreatePage,children:"Nueva solicitud"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("table",{className:"table",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("thead",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th",{scope:"col",children:"#"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th",{scope:"col",children:"Tema"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th",{scope:"col",children:"Fecha"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th",{scope:"col",children:"Sal\xf3n"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th",{scope:"col",children:"Estado de solicitud"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th",{scope:"col"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tbody",{children:catalogs.length>0&&catalogs.map(catalog=>{var ref;return console.log(catalog),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{children:catalog.id}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{children:catalog.tema_conferencia}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{children:catalog.fecha?new Date(catalog.fecha).toLocaleDateString("es-PE",{timeZone:"UTC"}):""}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{children:(null==catalog?void 0:catalog.salon)?null===(ref=null==catalog?void 0:catalog.salon.data)||void 0===ref?void 0:ref.nombre:""}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{children:null===catalog.disponible?"En Espera":!1==catalog.disponible?"Rechazado":"Aprobado"})]},"catalog-".concat(catalog.id))})})]})]})})};__webpack_exports__.default=Catalogo}},function(__webpack_require__){__webpack_require__.O(0,[222,776,774,888,179],function(){return __webpack_require__(__webpack_require__.s=8211)}),_N_E=__webpack_require__.O()}]);