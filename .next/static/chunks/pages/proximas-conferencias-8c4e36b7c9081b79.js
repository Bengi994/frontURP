(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[198],{4078:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/proximas-conferencias",function(){return __webpack_require__(1409)}])},1409:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return proximas_conferencias}});var jsx_runtime=__webpack_require__(5893),ResponsivePage=__webpack_require__(8776),useCatalogs=__webpack_require__(9086),next_link=__webpack_require__(1664),link_default=__webpack_require__.n(next_link),react=__webpack_require__(7294);__webpack_require__(1535);var index_es=__webpack_require__(9603),free_solid_svg_icons=__webpack_require__(9417),Card=__webpack_require__(7525),Button=__webpack_require__(5005),BotonModal=__webpack_require__(7169),context=__webpack_require__(2698),axios=__webpack_require__(5121),ModalQR=__webpack_require__(7655);let CatalogCard=param=>{var ref,ref1,ref2,ref3,ref4,ref5;let{catalog}=param,{user}=(0,context.XG)(),[estadoModal,cambiarEstadoModal]=(0,react.useState)(!1),[catalogElement,setCatalogElement]=(0,react.useState)(),[estadoModalQR,cambiarEstadoModalQR]=(0,react.useState)(!1),[fotoUrl,setFotoUrl]=(0,react.useState)("");(0,react.useEffect)(()=>{let fetchData=async()=>{try{let apiFoto=await axios.Z.get("https://shrieking-web-97943-0c89be05ca8d.herokuapp.com/api/catologos/".concat(catalog.id,"?populate=foto")),url=apiFoto.data.data.attributes.foto.data.attributes.url;setFotoUrl("https://shrieking-web-97943-0c89be05ca8d.herokuapp.com".concat(url))}catch(error){console.error("Error al obtener la foto:",error)}};fetchData()},[catalog.id]);let flag=!1;return null!=catalog.inscripciones&&catalog.inscripciones.forEach(inscripcion=>{inscripcion.codigo==(null==user?void 0:user.codigo)&&(flag=!0)}),(0,jsx_runtime.jsxs)(Card.Z,{children:[(0,jsx_runtime.jsxs)("div",{className:"cont-img",children:[(0,jsx_runtime.jsx)(Card.Z.Img,{variant:"top",src:(null===(ref=catalog.foto)||void 0===ref?void 0:null===(ref1=ref.data)||void 0===ref1?void 0:ref1.attributes.url)||"https://res.cloudinary.com/dbe36qiba/image/upload/v1700542339/1_mcbxr_Q9dmg_X6v8_KA_7_Uo4nw_acc5422e6f.jpg"}),(0,jsx_runtime.jsxs)("p",{className:"expositor-card card-fecha",children:[(0,jsx_runtime.jsx)("img",{src:"\\calendario-icon.svg",alt:"fecha"}),function(fechaOriginal){let fecha=new Date(fechaOriginal);fecha.setDate(fecha.getDate()+1);let dia=fecha.getDate(),mes=fecha.toLocaleDateString("es-ES",{month:"long"});return fecha.getFullYear(),"".concat(dia," de ").concat(mes)}(catalog.fecha)," -"," ",null===catalog.hora?"":catalog.hora.slice(0,5)]}),(0,jsx_runtime.jsxs)("p",{className:"expositor-card card-salon",children:[(0,jsx_runtime.jsx)("img",{src:"\\salon-icon.svg",alt:"salon"}),(null===(ref2=null==catalog?void 0:catalog.salon.data)||void 0===ref2?void 0:null===(ref3=ref2.attributes)||void 0===ref3?void 0:ref3.nombre)===null?"":null===(ref4=catalog.salon.data)||void 0===ref4?void 0:null===(ref5=ref4.attributes)||void 0===ref5?void 0:ref5.nombre]}),(0,jsx_runtime.jsx)("p",{className:"card-dirigido",children:catalog.dirigido})]}),(0,jsx_runtime.jsxs)(Card.Z.Body,{children:[(0,jsx_runtime.jsx)(Card.Z.Title,{children:catalog.tema_conferencia}),(0,jsx_runtime.jsxs)("p",{className:"nombre-expositor",children:["Dirigido por: ",catalog.expositor]}),(0,jsx_runtime.jsx)("p",{className:"descripcion-card",children:catalog.descripcion})]}),(0,jsx_runtime.jsx)("div",{children:!0==flag?(0,jsx_runtime.jsx)(Button.Z,{className:"btnInscribir",disabled:!0,style:{backgroundColor:"#3e8e41",border:"none"},children:"Inscrito"}):(0,jsx_runtime.jsx)(Button.Z,{className:"btnInscribir",onClick(){cambiarEstadoModal(!estadoModal),setCatalogElement(catalog)},children:"Inscribirse"})}),(0,jsx_runtime.jsx)(BotonModal.Z,{estado:estadoModal,cambiarEstado:cambiarEstadoModal,catalogo:catalog,setCatalogo:setCatalogElement,estadoModalQR:estadoModalQR,cambiarEstadoQR:cambiarEstadoModalQR}),(0,jsx_runtime.jsx)(ModalQR.Z,{estado:estadoModalQR,cambiarEstado:cambiarEstadoModalQR})]},"catalog-".concat(catalog.id))},BuscadorProximas=()=>{let[conferencias,setConfe]=(0,react.useState)([]),[busqueda,setBusqueda]=(0,react.useState)(""),{catalogs}=(0,useCatalogs.$)(),hoy=new Date;function convertirStringADate(fechaString,hora){let fechaObjeto=new Date(fechaString);fechaObjeto.setDate(fechaObjeto.getDate()+1);let horaString=hora.toString(),date=new Date("2000-01-01 ".concat(horaString));return fechaObjeto.setHours(date.getHours()),fechaObjeto.setMinutes(date.getMinutes()),fechaObjeto.setSeconds(date.getSeconds()),fechaObjeto}let conferenciasDisponibles=catalogs.filter(catalog=>catalog.disponible&&convertirStringADate(catalog.fecha.toString(),catalog.hora)>hoy&&convertirStringADate(catalog.fecha.toString(),catalog.hora).getTime()>hoy.getTime());(0,react.useEffect)(()=>{setConfe(catalogs)},[catalogs]);let handleChange=e=>{setBusqueda(e.target.value),filtrar(e.target.value)},filtrar=terminoBusqueda=>{setConfe(conferenciasDisponibles.filter(catalog=>{var ref,ref1;let fc=catalog.fecha,fechaConferencia=new Date(fc.toString());if(fechaConferencia.setDate(fechaConferencia.getDate()+1),catalog.tema_conferencia.toString().toLowerCase().includes(terminoBusqueda.toLowerCase())||catalog.expositor.toString().toLowerCase().includes(terminoBusqueda.toLowerCase())||catalog.dirigido&&catalog.dirigido.toString().toLowerCase().includes(terminoBusqueda.toLowerCase())||(null===(ref=null==catalog?void 0:catalog.salon.data)||void 0===ref?void 0:null===(ref1=ref.attributes)||void 0===ref1?void 0:ref1.nombre.toString().toLowerCase().includes(terminoBusqueda.toLowerCase()))||catalog.fecha.toString().toLowerCase().includes(terminoBusqueda.toLowerCase())||"hoy"===terminoBusqueda.toLowerCase()&&fechaConferencia.toLocaleDateString()==hoy.toLocaleDateString())return catalog}))};return(0,react.useEffect)(()=>{filtrar(busqueda)},[busqueda,catalogs]),(0,jsx_runtime.jsxs)("div",{className:"contenedor-buscador-confes",children:[(0,jsx_runtime.jsxs)("div",{className:"contenedor-input",children:[(0,jsx_runtime.jsx)("button",{className:"botonBuscador",children:(0,jsx_runtime.jsx)(index_es.G,{icon:free_solid_svg_icons.wn1})}),(0,jsx_runtime.jsx)("input",{className:"inputBuscar",value:busqueda,placeholder:"Buscar conferencia por tema, expositor, escuela, auditorio, fecha...",onChange:handleChange})]}),(0,jsx_runtime.jsx)("div",{className:"container contenedor-proximos",children:(0,jsx_runtime.jsx)("div",{className:"contenedor-catalogo",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(100%, 20rem), 1fr))",columnGap:"35px",rowGap:"25px",marginTop:"20px"},children:conferencias.map(catalog=>(0,jsx_runtime.jsx)(CatalogCard,{catalog:catalog},catalog.id))})})]})},VerCatalogo=()=>{let{catalogs}=(0,useCatalogs.$)();return(0,jsx_runtime.jsxs)(ResponsivePage.Y,{children:[(0,jsx_runtime.jsxs)("div",{className:"container mt-3 mb-4 header-mis-conferencias",children:[(0,jsx_runtime.jsx)("h2",{children:"Pr\xf3ximas conferencias disponibles"}),(0,jsx_runtime.jsx)(link_default(),{href:"/mis-conferencias",children:(0,jsx_runtime.jsx)("img",{src:"\\icon-forward.svg",alt:"search"})})]}),(0,jsx_runtime.jsx)(BuscadorProximas,{})]})};var proximas_conferencias=VerCatalogo}},function(__webpack_require__){__webpack_require__.O(0,[976,428,222,536,129,653,776,612,774,888,179],function(){return __webpack_require__(__webpack_require__.s=4078)}),_N_E=__webpack_require__.O()}]);