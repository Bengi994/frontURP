(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[561],{5738:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sugiere-conferencia",function(){return __webpack_require__(4589)}])},4589:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return sugiere_conferencia}});var jsx_runtime=__webpack_require__(5893),ResponsivePage=__webpack_require__(8776),Button=__webpack_require__(5005),Form=__webpack_require__(1676),react=__webpack_require__(7294),api=__webpack_require__(2400);let useValids=()=>{let[users,setUsers]=(0,react.useState)([]),createValidacion=async data=>{var ref;let response=await api.h.post("/convalidars",{...data,nombre:data.nombre,institucion:data.institucion,ubicacion:data.ubicacion}).catch(response=>response.response);if(null===(ref=response.data)||void 0===ref?void 0:ref.error){let{details:{errors}}=response.data.error;for(let{path,message}of errors)path.includes("dni")&&message.includes("unique")&&alert("Este DNI ya se encuentra registrado por otro usuario");return!1}return await getUsers(),200===response.status},getUsers=async()=>{let{data}=await api.h.get("/users");setUsers(data)};return(0,react.useEffect)(()=>{getUsers()},[]),{users,createValidacion}};var index_esm=__webpack_require__(7536),next_router=__webpack_require__(1163);let VerValidacion=()=>{let{register,handleSubmit,formState:{errors}}=(0,index_esm.cI)(),{createValidacion}=useValids(),router=(0,next_router.useRouter)(),handleOnSubmit=async data=>{let convalidar={...data},response=await createValidacion(convalidar);response&&await router.push("/convalidar")};return(0,jsx_runtime.jsx)(ResponsivePage.Y,{children:(0,jsx_runtime.jsxs)("div",{className:"operacion",children:[(0,jsx_runtime.jsxs)("div",{className:"contenedor",children:[(0,jsx_runtime.jsx)("h2",{className:"titulo",children:"Convalida tus conferencias"}),(0,jsx_runtime.jsx)("img",{src:"return.png",alt:"imagentitulo",width:35,height:35})]}),(0,jsx_runtime.jsxs)(Form.Z,{className:"ingresando-convalidacion",onSubmit:handleSubmit(handleOnSubmit),children:[(0,jsx_runtime.jsxs)(Form.Z.Group,{className:"mb-1",children:[(0,jsx_runtime.jsx)(Form.Z.Label,{children:"Conferencia:"}),(0,jsx_runtime.jsx)(Form.Z.Control,{type:"text",...register("nombre"),placeholder:"Ingrese nombre la conferencia"}),errors.nombre&&(0,jsx_runtime.jsx)(Form.Z.Text,{className:"text-danger",children:errors.nombre.message})]}),(0,jsx_runtime.jsxs)(Form.Z.Group,{className:"mb-2",children:[(0,jsx_runtime.jsx)(Form.Z.Label,{children:"Nombre de la instituci\xf3n o entidad organizadora"}),(0,jsx_runtime.jsx)(Form.Z.Control,{type:"text",...register("institucion"),placeholder:"Ingrese nombre de la instituci\xf3n"}),errors.institucion&&(0,jsx_runtime.jsx)(Form.Z.Text,{className:"text-danger",children:errors.institucion.message})]}),(0,jsx_runtime.jsxs)(Form.Z.Group,{className:"mb-3",children:[(0,jsx_runtime.jsx)(Form.Z.Label,{children:"Ubicaci\xf3n"}),(0,jsx_runtime.jsx)(Form.Z.Control,{type:"text",...register("ubicacion"),placeholder:"Lugar donde se realiz\xf3 la conferencia"}),errors.ubicacion&&(0,jsx_runtime.jsx)(Form.Z.Text,{className:"text-danger",children:errors.ubicacion.message})]}),(0,jsx_runtime.jsxs)(Form.Z.Group,{controlId:"formFileSm",className:"mb-3",children:[(0,jsx_runtime.jsx)(Form.Z.Label,{children:"Subir tu certificado"}),(0,jsx_runtime.jsx)(Form.Z.Control,{type:"file",size:"sm"})]}),(0,jsx_runtime.jsx)(Button.Z,{type:"submit",variant:"success",children:"ENVIAR"})," "]})]})})};var sugiere_conferencia=VerValidacion}},function(__webpack_require__){__webpack_require__.O(0,[222,536,676,776,774,888,179],function(){return __webpack_require__(__webpack_require__.s=5738)}),_N_E=__webpack_require__.O()}]);