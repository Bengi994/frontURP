(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[693],{9410:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/registrarse",function(){return __webpack_require__(1382)}])},5956:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{m:function(){return useRegister}});var _utils_api__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2400);let useRegister=()=>{let createClient=async data=>{var ref;let response=await _utils_api__WEBPACK_IMPORTED_MODULE_0__.h.post("/auth/local/register",{...data,username:data.email,role:{id:3}}).catch(response=>response.response);if(null===(ref=response.data)||void 0===ref?void 0:ref.error){let{message}=response.data.error;if(message.includes("already taken"))return alert("El email ya se encuentra registrado"),!1;let{details:{errors}}=response.data.error;for(let{path,message:message1}of errors)path.includes("dni")&&message1.includes("unique")&&alert("Este DNI ya se encuentra registrado por otro usuario");return!1}let{jwt,user}=response.data;return localStorage.setItem("token",jwt),localStorage.setItem("user",JSON.stringify(user)),user},forgotPassword=async email=>{let{data}=await _utils_api__WEBPACK_IMPORTED_MODULE_0__.h.post("/auth/forgot-password",{email}),{ok}=data;return ok?data.resetPasswordToken:"Algo salio mal"},resetPassword=async reset=>{let response=await _utils_api__WEBPACK_IMPORTED_MODULE_0__.h.post("/auth/reset-password",reset);return 200===response.status};return{createClient,forgotPassword,resetPassword}}},1382:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893),_components_ResponsivePage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8776),react_bootstrap__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1676),react_bootstrap__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5005),react_bootstrap__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5147),react_hook_form__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7536),_hookform_resolvers_yup__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7533),yup__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4231),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7294),_hooks_register_useRegister__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5956),next_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1163);let registerSchema=yup__WEBPACK_IMPORTED_MODULE_2__.Ry({nombre:yup__WEBPACK_IMPORTED_MODULE_2__.Z_().required("El nombre es requerido"),apellido:yup__WEBPACK_IMPORTED_MODULE_2__.Z_().required("El apellido es requerida"),dni:yup__WEBPACK_IMPORTED_MODULE_2__.Z_().typeError("El DNI debe ser un digitos numericos").required("El DNI es requerido").max(8,"Tiene ser un maximo de 8 digitos").min(8,"Tiene ser un maximo de 8 digitos"),email:yup__WEBPACK_IMPORTED_MODULE_2__.Z_().required("El tipo de producto es requerido").email("EL email tiene que tener el siguiente formato ejemplo@ejemplo.com"),password:yup__WEBPACK_IMPORTED_MODULE_2__.Z_().required("La contrase\xf1a es requerida").min(6,"La contrase\xf1a tiene que tener un minimo de 6 caracteres "),direccion:yup__WEBPACK_IMPORTED_MODULE_2__.Z_().required("La direccion es requerida"),zona:yup__WEBPACK_IMPORTED_MODULE_2__.Z_().required("La zona es requerida")}),Registrarse=()=>{let{register,handleSubmit,formState:{errors},setValue}=(0,react_hook_form__WEBPACK_IMPORTED_MODULE_6__.cI)({resolver:(0,_hookform_resolvers_yup__WEBPACK_IMPORTED_MODULE_7__.X)(registerSchema)}),{createClient}=(0,_hooks_register_useRegister__WEBPACK_IMPORTED_MODULE_4__.m)(),[user,setUser]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(void 0),router=(0,next_router__WEBPACK_IMPORTED_MODULE_5__.useRouter)(),handleOnSubmit=async data=>{let result=await createClient(data);result&&(setUser(result),await router.push("/"))};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ResponsivePage__WEBPACK_IMPORTED_MODULE_1__.Y,{user:user,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"container mt-4 mb-5",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"cont--registrate",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1",{children:"Registrarse"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z,{onSubmit:handleSubmit(handleOnSubmit),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Group,{className:"mb-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Label,{children:"Nombre"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Control,{type:"text",...register("nombre")}),errors.nombre&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Text,{className:"text-danger",children:errors.nombre.message})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Group,{className:"mb-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Label,{children:"Apellido"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Control,{type:"text",...register("apellido")}),errors.apellido&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Text,{className:"text-danger",children:errors.apellido.message})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Group,{className:"mb-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Label,{children:"DNI"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Control,{type:"number",...register("dni")}),errors.dni&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Text,{className:"text-danger",children:errors.dni.message})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Group,{className:"mb-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Label,{children:"Email"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Control,{type:"email",...register("email")}),errors.email&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Text,{className:"text-danger",children:errors.email.message})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Group,{className:"mb-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Label,{children:"Password"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Control,{type:"password",...register("password")}),errors.password&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Text,{className:"text-danger",children:errors.password.message})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Group,{className:"mb-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Label,{children:"Direccion"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Control,{type:"text",...register("direccion")}),errors.direccion&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Text,{className:"text-danger",children:errors.direccion.message})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Group,{className:"mb-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Label,{children:"Zonas"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Select,{onChange:event=>setValue("zona",event.target.value),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{children:"Seleccionar"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"A",children:"Zona A"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"B",children:"Zona B"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"C",children:"Zona C"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option",{value:"D",children:"Zona D"})]}),errors.zona&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_8__.Z.Text,{className:"text-danger",children:errors.zona.message})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_9__.Z,{variant:"primary",type:"submit",children:"Registrarse"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_10__.Z,{striped:!0,bordered:!0,hover:!0,className:"mt-5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("thead",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th",{children:"Zonas"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th",{children:"Avenidas"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tbody",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{children:"A"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{children:"Av. Benavides, Av.Caminos del Inca, Av. Velasco Astete, Av.Nasarenas"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{children:"B"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{children:"Av. Surco, Av.Ayacucho, Av. Mariscal Catilla, Av.Castellana"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{children:"C"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{children:"Av. Proceres, Av.Guardia civil norte, Av. Vista alegre, Av. El sol"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{children:"D"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("td",{children:"Av. Primavera, Av. Angamos, Av. San luis, Av. Encalada"})]})]})]})]})})})};__webpack_exports__.default=Registrarse},5147:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4184),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7294),_ThemeProvider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6792),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5893);let Table=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({bsPrefix,className,striped,bordered,borderless,hover,size,variant,responsive,...props},ref)=>{let decoratedBsPrefix=(0,_ThemeProvider__WEBPACK_IMPORTED_MODULE_3__.vE)(bsPrefix,"table"),classes=classnames__WEBPACK_IMPORTED_MODULE_0___default()(className,decoratedBsPrefix,variant&&`${decoratedBsPrefix}-${variant}`,size&&`${decoratedBsPrefix}-${size}`,striped&&`${decoratedBsPrefix}-${"string"==typeof striped?`striped-${striped}`:"striped"}`,bordered&&`${decoratedBsPrefix}-bordered`,borderless&&`${decoratedBsPrefix}-borderless`,hover&&`${decoratedBsPrefix}-hover`),table=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("table",{...props,className:classes,ref:ref});if(responsive){let responsiveClass=`${decoratedBsPrefix}-responsive`;return"string"==typeof responsive&&(responsiveClass=`${responsiveClass}-${responsive}`),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:responsiveClass,children:table})}return table});__webpack_exports__.Z=Table}},function(__webpack_require__){__webpack_require__.O(0,[222,536,676,491,776,774,888,179],function(){return __webpack_require__(__webpack_require__.s=9410)}),_N_E=__webpack_require__.O()}]);